{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/constants.js","utils/api.js","components/Register.js","components/Login.js","components/Loading.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/error.png","images/success.png","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","history","useHistory","className","src","logoHeaderPath","alt","isLoggedIn","email","to","onClick","localStorage","removeItem","onExit","push","pathname","CurrentUserContext","React","createContext","Card","user","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","type","onCardLike","length","e","onCardDelete","Main","onEditAvatar","avatar","id","onEditProfile","about","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","title","onSubmit","children","buttonText","onClose","EditProfilePopup","useState","setName","setAbout","useEffect","preventDefault","onUpdateUser","value","onChange","target","minLength","maxLength","placeholder","required","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setPlaceName","setPlaceLink","ImagePopup","isEmpty","Object","keys","config","errorActiveClass","errorInputClass","errorInputSelector","inputSelector","submitSelector","profileEditorSelector","placeEditorSelector","avatarEditorSelector","nameSelector","jobSelector","cardTemplateDefault","cardsContainerSelector","popupPhotoSelector","popupProfileSelector","popupPlaceSelector","popupAvatarSelector","poupDeleteSelector","cardSelector","likeSelector","likeActiveClass","placeDeleteSelector","placeImageSelector","placeTitleSelector","popupActiveClass","ESCAPE_KEY","closeButtonSelector","formSelector","popupPhotoImgSelector","popupPhotoTitleSelector","avatarSelector","methodGET","methodPUT","methodDELETE","methodPATCH","methodPOST","urlLikes","urlMe","urlCards","urlAvatar","token","loadingText","api","option","_search","url","fetch","_option","baseUrl","method","headers","authorization","_searchCardId","cardid","_checkResponse","res","ok","json","Promise","reject","status","getUserInfo","_config","then","getInitialCards","patchUserInfo","userInfo","body","JSON","stringify","postNewCard","deleteCard","updateLike","patchUserAvatar","this","Register","setEmail","password","setPassword","onRegister","Login","onLogin","Loading","ProtectedRoute","isLoadingRes","InfoTooltip","isSuccess","BASE_URL","checkResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRegisterPopupOpen","setIsRegisterPopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","setCards","loggedIn","setLoggedIn","isRegisterOk","setIsRegisterOk","userEmail","setUserEmail","isLoading","setIsLoading","closeAllPopups","getItem","jwt","data","catch","err","console","log","handleTokenCheck","all","Provider","exact","path","hasOwnProperty","setItem","finally","newCard","state","c","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40ee01fd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.abb64ac9.svg\";","import React from 'react';\nimport logoHeaderPath from '../images/header-logo.svg';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\n\nexport default function Header(props) {\n        const location = useLocation();\n        const history = useHistory();\n\n        function signOut() {\n                localStorage.removeItem('jwt');\n                props.onExit();\n                history.push('/sign-in');\n\n        }\n\n        return (\n                <header className=\"header\">\n                        <img src={logoHeaderPath} alt=\"Лого\" className=\"header__logo\" />\n                        {props.isLoggedIn\n                                ? <div className=\"header__user\"><p className=\"header__email\">{props.email}</p><Link to=\"/sign-in\" className=\"header__exit\" onClick={signOut}>Выйти</Link></div>\n                                : <Link to={location.pathname === '/sign-up' ? '/sign-in' : '/sign-up'} className=\"header__link\">{location.pathname === '/sign-up' ? 'Войти' : 'Регистрация'}</Link>\n                        }\n\n                </header>\n        )\n}","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Card(props) {\n    const user = React.useContext(CurrentUserContext);\n    const isOwn = props.card.owner._id === user._id;\n    const cardDeleteButtonClassName = (`place__delete ${isOwn ? 'place__delete_active' : ''}`);\n    const isLiked = props.card.likes.some(i => i._id === user._id);\n    const cardLikeButtonClassName = (`place__like ${isLiked ? 'place__like_active' : ''}`);\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n    function handleLikeClick() {\n        props.onCardLike(props.card)\n    }\n\n    function handleDeleteClick(e) {\n        props.onCardDelete(props.card)\n    }\n\n    return (\n        <div className=\"place\">\n            <img src={props.card.link} alt={props.card.name} className=\"place__image\" onClick={handleClick} />\n            <div className=\"place__header\">\n                <h2 className=\"place__title\">{props.card.name}</h2>\n                <div>\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                    <p className=\"place__likes\">{props.card.likes.length}</p>\n                </div>\n            </div>\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n        </div>\n    )\n}","import Card from './Card';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Main(props) {\n\n    const user = React.useContext(CurrentUserContext);\n\n\n    return (\n        <main>\n            <section className=\"profile\">\n                <button type=\"button\" className=\"profile__avatar-edit\" onClick={props.onEditAvatar}><img src={user.avatar} alt={user.name} className=\"profile__avatar\" /></button>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\" id=\"username\">{user.name}</h1>\n                    <button type=\"button\" className=\"profile__user-edit\" onClick={props.onEditProfile}></button>\n                    <p className=\"profile__job\" id=\"userjob\">{user.about}</p>\n                </div>\n                <button type=\"button\" className=\"profile__place-edit\" onClick={props.onAddPlace}></button>\n            </section>\n            <section className=\"places\">\n                {props.cards.map((item) => {\n                    return (<Card key={item._id} card={item} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />)\n                })}\n            </section>\n        </main>\n    )\n}\n\n\n\n\n\n","export default function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">\n                &copy;2021 Mesto Russia\n            </p>\n        </footer>\n    )\n}","export default function PopupWithForm(props) {\n\n    return (\n        <div className={`popup__overlay ${props.isOpen ? 'popup_opened' : ''}`} id={props.id}>\n            <div className=\"popup__container popup__container_theme_white\">\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form onSubmit={props.onSubmit} className={`form ${props.name}`} name={`${props.name}`}>\n                    {props.children}\n                    <button type=\"submit\" className=\"popup__submit\">{props.buttonText}</button>\n                </form>\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditProfilePopup(props) {\n\n    const user = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [about, setAbout] = React.useState('');\n\n    React.useEffect(() => {\n        setName(user.name);\n        setAbout(user.about);\n    }, [user, props.isOpen])\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeAbout(e) {\n        setAbout(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onUpdateUser({\n            name,\n            about: about,\n        });\n    }\n\n    return (\n\n        <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} id=\"profile\" title=\"Редактировать профиль\" name=\"profile-editor\" buttonText=\"Сохранить\">\n            <input value={name} onChange={handleChangeName} type=\"text\" minLength=\"2\" maxLength=\"40\" className=\"popup__input popup__input_name\" placeholder=\"Имя\" id=\"name\" required />\n            <span className=\"popup__input-error\" id=\"name-error\"></span>\n            <input value={about} onChange={handleChangeAbout} type=\"text\" minLength=\"2\" maxLength=\"200\" className=\"popup__input popup__input_job\" placeholder=\"Профессия\" id=\"about\" required />\n            <span className=\"popup__input-error\" id=\"about-error\"></span>\n        </PopupWithForm>\n\n\n    )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n\n    const avatarRef = React.useRef();\n\n    React.useEffect(() => {\n        avatarRef.current.value = '';\n    }, [props.isOpen])\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n    return (\n\n        <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} id=\"avatar\" title=\"Обновить аватар\" name=\"avatar-editor\" buttonText=\"Сохранить\">\n            <input ref={avatarRef} type=\"url\" className=\"popup__input popup__input_url\" placeholder=\"Ссылка на картинку\" id=\"url-avatar\" required />\n            <span className=\"popup__input-error\" id=\"url-avatar-error\"></span>\n        </PopupWithForm>\n\n    )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n\n    const [name, setPlaceName] = React.useState('');\n    const [link, setPlaceLink] = React.useState('');\n\n    React.useEffect(() => {\n        setPlaceName('');\n        setPlaceLink('');\n    }, [props.isOpen])\n\n    function handleChangeLink(e) {\n        setPlaceLink(e.target.value);\n    }\n\n    function handleChangeName(e) {\n        setPlaceName(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onAddPlace({\n            name,\n            link: link,\n        });\n    }\n\n    return (\n\n        <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} id=\"newplace\" title=\"Новое место\" name=\"place-editor\" buttonText=\"Создать\">\n            <input value={name} onChange={handleChangeName} name=\"name\" type=\"text\" minLength=\"2\" maxLength=\"30\" className=\"popup__input popup__input_place\" placeholder=\"Название\" id=\"place\" required />\n            <span className=\"popup__input-error\" id=\"place-error\"></span>\n            <input value={link} onChange={handleChangeLink} name=\"link\" type=\"url\" className=\"popup__input popup__input_url\" placeholder=\"Ссылка на картинку\" id=\"url\" required />\n            <span className=\"popup__input-error\" id=\"url-error\"></span>\n        </PopupWithForm>\n\n    )\n}","export default function ImagePopup(props) {\n   const isEmpty = Object.keys(props.card).length === 0;\n   return (<>\n      <div className={`popup__overlay popup__overlay_photo ${!isEmpty ? 'popup_opened' : ''}`} id=\"photo\">\n         <div className=\"popup__container popup__container_theme_transparent\">\n            <img className=\"popup__img\" alt={props.card.name}\n               src={props.card.link} />\n            <h2 className=\"popup__title-img\">{props.card.name}</h2>\n            <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n         </div>\n      </div>\n   </>)\n}","export const config = {\n    errorActiveClass: 'popup__input-error_active',\n    errorInputClass: 'popup__input_invalid',\n    errorInputSelector: '.popup__input-error',\n    inputSelector: '.popup__input',\n    submitSelector: '.popup__submit',\n    profileEditorSelector: '.profile-editor',\n    placeEditorSelector: '.place-editor',\n    avatarEditorSelector: '.avatar-editor',\n    nameSelector: '.profile__name',\n    jobSelector: '.profile__job',\n    cardTemplateDefault: '.card-template_type_default',\n    cardsContainerSelector: '.places',\n    popupPhotoSelector: '#photo',\n    popupProfileSelector: '#profile',\n    popupPlaceSelector: '#newplace',\n    popupAvatarSelector: '#avatar',\n    poupDeleteSelector: '#delete',\n    cardSelector: '.place',\n    likeSelector: '.place__like',\n    likeActiveClass: 'place__like_active',\n    placeDeleteSelector: '.place__delete',\n    placeImageSelector: '.place__image',\n    placeTitleSelector: '.place__title',\n    popupActiveClass: 'popup_opened',\n    ESCAPE_KEY: 'Escape',\n    closeButtonSelector: '.popup__close',\n    formSelector: '.form',\n    popupPhotoImgSelector: '.popup__img',\n    popupPhotoTitleSelector: '.popup__title-img',\n    avatarSelector: '.profile__avatar',\n    methodGET: 'GET',\n    methodPUT: 'PUT',\n    methodDELETE: 'DELETE',\n    methodPATCH: 'PATCH',\n    methodPOST: 'POST',\n    urlLikes: '/cards/likes/',\n    urlMe: '/users/me',\n    urlCards: '/cards/',\n    urlAvatar: '/users/me/avatar',\n    token: '4caf9c4d-a302-411a-9ffa-2ef00699d265',\n    loadingText: 'Сохранение...'\n}\n","import { config } from './constants.js';\n\nclass Api {\n  constructor(config, option) {\n    this._config = config;\n    this._option = option;\n  }\n\n  _search = (url, type, token) => {\n    return fetch(`${this._option.baseUrl}${url}`, {\n      method: `${type}`,\n      headers: {\n        authorization: `${token}`,\n        'Content-Type': 'application/json'\n      }\n    })\n  }\n\n  _searchCardId = (url, type, token, cardid) => {\n    return fetch(`${this._option.baseUrl}${url}${cardid}`, {\n      method: `${type}`,\n      headers: {\n        authorization: `${token}`,\n        'Content-Type': 'application/json'\n      }\n    })\n  }\n\n  _checkResponse = (res) => {\n    if (res.ok) { return res.json() }\n    return Promise.reject(`Ошибка ${res.status}`)\n  }\n\n  getUserInfo = () => {\n    return this._search(this._config.urlMe, this._config.methodGET, this._config.token)\n      .then(this._checkResponse)\n\n  }\n\n  getInitialCards = () => {\n    return this._search(this._config.urlCards, this._config.methodGET, this._config.token)\n      .then(this._checkResponse);\n  }\n\n  patchUserInfo = (userInfo) => {\n    return fetch(`${this._option.baseUrl}${this._config.urlMe}`, {\n      method: `${this._config.methodPATCH}`,\n      headers: {\n        authorization: `${this._config.token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: `${userInfo.name}`,\n        about: `${userInfo.about}`\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  postNewCard = (card) => {\n    return fetch(`${this._option.baseUrl}${this._config.urlCards}`, {\n      method: `${this._config.methodPOST}`,\n      headers: {\n        authorization: `${this._config.token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: `${card.name}`,\n        link: `${card.link}`\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  deleteCard = (cardid) => {\n    return this._searchCardId(this._config.urlCards, this._config.methodDELETE, this._config.token, cardid)\n      .then(this._checkResponse);\n  }\n\n  updateLike = (cardid, status) => {\n    if (status) {\n      return this._searchCardId(this._config.urlLikes, this._config.methodPUT, this._config.token, cardid)\n        .then(this._checkResponse);\n    } else {\n      return this._searchCardId(this._config.urlLikes, this._config.methodDELETE, this._config.token, cardid)\n        .then(this._checkResponse);\n    }\n\n  }\n\n  patchUserAvatar = (avatar) => {\n    return fetch(`${this._option.baseUrl}${this._config.urlAvatar}`, {\n      method: `${this._config.methodPATCH}`,\n      headers: {\n        authorization: `${this._config.token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: `${avatar}`,\n      })\n    })\n      .then(this._checkResponse);\n  }\n}\n\nconst api = new Api(config, {\n  baseUrl: 'http://api.voroshilov.nomoredomains.club',\n  method: '',\n  headers: {\n    authorization: config.token,\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Register(props) {\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onRegister({\n            email: email,\n            password: password\n        })\n\n    }\n\n\n    return (\n\n        <div className=\"register\">\n            <h2 className=\"register__title\">Регистрация</h2>\n            <form className=\"form register__form\" onSubmit={handleSubmit}>\n                <input value={email} onChange={handleChangeEmail} type=\"e-mail\" minLength=\"2\" maxLength=\"40\" className=\"register__input register__input_email\" placeholder=\"Email\" id=\"email\" required />\n                <input value={password} onChange={handleChangePassword} type=\"password\" minLength=\"2\" maxLength=\"40\" className=\"register__input register__input_password\" placeholder=\"Пароль\" id=\"password\" required />\n                <button type=\"submit\" className=\"register__button\">Зарегистрироваться</button>\n            </form>\n            <p className=\"register__text\">Уже зарегистрированы? <span><Link to=\"/sign-in\" className=\"register__link\">Войти</Link></span></p>\n        </div>\n    )\n}","import React from 'react';\n\nexport default function Login(props) {\n\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onLogin({\n            email: email,\n            password: password\n        })\n    }\n\n\n\n    return (\n        <div className=\"login\">\n            <h2 className=\"login__title\">Вход</h2>\n            <form className=\"form login__form\" onSubmit={handleSubmit}>\n                <input value={email} onChange={handleChangeEmail} type=\"e-mail\" minLength=\"2\" maxLength=\"40\" className=\"login__input login__input_email\" placeholder=\"Email\" id=\"email\" required />\n                <input value={password} onChange={handleChangePassword} type=\"password\" minLength=\"2\" maxLength=\"40\" className=\"login__input login__input_password\" placeholder=\"Пароль\" id=\"password\" required />\n                <button className=\"login__button\">Войти</button>\n            </form>\n        </div>\n\n    )\n}","export default function Loading() {\n\n\n    return (\n        <>\n            <div></div>\n        </>\n    )\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport Loading from './Loading';\n\nexport default function ProtectedRoute(props) {\n\n    if (props.isLoadingRes) {\n        return (\n            <Loading />\n        )\n\n    } else {\n        return (\n            <Route>\n                {\n                    () => props.isLoggedIn ? props.children : <Redirect to=\"./sign-in\" />\n                }\n            </Route>\n        )\n\n    }\n\n}\n","import errorPhoto from '../images/error.png';\nimport successPhoto from '../images/success.png';\n\nexport default function InfoTooltip(props) {\n    return (\n        <div className={`popup__overlay ${props.isOpen ? 'popup_opened' : ''}`} id=\"tooltip\">\n            <div className=\"popup__container popup__container_theme_white\">\n                <img src={!props.isSuccess ? successPhoto : errorPhoto} alt=\"result\" className=\"popup__tooltip-img\" />\n                <p className=\"popup__text\">{!props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const BASE_URL = 'http://api.voroshilov.nomoredomains.club';\n\nconst checkResponse = (res) => {\n  if (res.ok) { return res.json() }\n  return Promise.reject(`Ошибка ${res.status}`)\n}\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email })\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email })\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n}","import '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport React from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth.js';\nimport PopupWithForm from './PopupWithForm'\n\n\nfunction App() {\n\n\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '' })\n  const [cards, setCards] = React.useState([])\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isRegisterOk, setIsRegisterOk] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n  const [isLoading, setIsLoading] = React.useState(true)\n\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, [])\n\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then(([cards, user]) => {\n        setCards(cards);\n        setCurrentUser(user);\n      })\n      .catch((err) => { console.log(err) })\n  }, [])\n\n\n\n  function handleTokenCheck() {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      auth.checkToken(jwt)\n        .then((res) => {\n          setUserEmail(res.data.email);\n          setLoggedIn(true);\n          setIsLoading(false);\n        })\n        .catch((err) => { console.log(err) })\n    } else {\n      setLoggedIn(false);\n      setIsLoading(false)\n    }\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({});\n    setIsRegisterPopupOpen(false);\n  }\n\n  function handleUpdateUser(data) {\n    api.patchUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  function handleUpdateAvatar(data) {\n    api.patchUserAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.updateLike(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((item) => item._id !== card._id))\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleAddPlace(card) {\n    api.postNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  function handleRegister(data) {\n\n    auth.register(data.password, data.email)\n      .then(() => {\n        history.push('/sign-in');\n        setIsRegisterOk(false);\n      })\n      .catch((err) => {\n        setIsRegisterOk(true)\n        console.log(err);\n      })\n      .finally(setIsRegisterPopupOpen(true))\n\n  }\n\n  function handleLogin(data) {\n    auth.authorize(data.password, data.email)\n      .then((res) => {\n        if (res.hasOwnProperty('token')) {\n          localStorage.setItem('jwt', res.token);\n          setUserEmail(data.email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      }\n      )\n      .catch(err => console.log(err));\n\n  }\n\n  function handleExit() {\n    setLoggedIn(false);\n  }\n\n  return (\n\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header isLoggedIn={loggedIn} email={userEmail} onExit={handleExit} />\n        <Switch>\n          <Route exact path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route exact path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route path=\"/mesto-react\">\n            <Redirect to=\"/\" />\n          </Route>\n          <ProtectedRoute exact path=\"/\" isLoadingRes={isLoading} isLoggedIn={loggedIn} >\n            <Main cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\n          </ProtectedRoute>\n        </Switch>\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n        <PopupWithForm title=\"Вы уверены?\" id=\"delete\" name=\"place-remove\" isOpen={false} onClose={closeAllPopups} buttonText=\"Да\">\n        </PopupWithForm>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeAllPopups} isSuccess={isRegisterOk} />\n      </CurrentUserContext.Provider>\n    </div>\n\n  );\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}